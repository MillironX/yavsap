extends layout

block layout-styles
  link(rel="stylesheet", href="/css/phylotree/phylotree.css", type="text/css")

block layout-content
  h1 #{samplename}
  div.row
    div.col-12
      div.btn-group(role="group").mx-1
        button(type="button", data-direction="vertical", data-amount="1", title="Expand vertical spacing").btn.btn-primary
          i.fas.fa-arrows-alt-v
        button(type="button", data-direction="vertical", data-amount="-1", title="Compress vertical spacing").btn.btn-primary
          i(data-fa-transform="rotate-135").fas.fa-compress-alt
        button(type="button", data-direction="horizontal", data-amount="1", title="Expand horizontal spacing").btn.btn-primary
          i.fas.fa-arrows-alt-h
        button(type="button", data-direction="horizontal", data-amount="-1", title="Compress horizontal spacing").btn.btn-primary
          i(data-fa-transform="rotate-45").fas.fa-compress-alt
      div.btn-group(role="group").mx-1
        button(type="button", title="Sort deepest clades to the bottom")#sort-ascending.btn.btn-primary
          i.fas.fa-sort-amount-down-alt
        button(type="button", title="Sort deepest clades to the top")#sort-descending.btn.btn-primary
          i.fas.fa-sort-amount-up-alt
      div.btn-group(role="group").mx-1
        button(type="button", title="Save image")#save-image.btn.btn-primary
          i.fas.fa-file-image
      div.btn-group(role="group").mx-1
        button(type="button", title="Linear", data-mode="linear").btn.btn-primary.phylotree-layout-mode.active
          i.fas.fa-align-left
        button(type="button", title="Radial", data-mode="radial").btn.btn-primary.phylotree-layout-mode
          i.fas.fa-circle-notch
      div.btn-group(role="group").mx-1
        button(type="button", title="Align left", data-align="left").btn.btn-primary.phylotree-align-toggler.active
          i.fas.fa-outdent
        button(type="button", title="Align right", data-align="right").btn.btn-primary.phylotree-align-toggler
          i.fas.fa-indent
  div.row
    div.col-12
      div#phylotree.my-2.p-3

block layout-scripts
  script(src="/js/d3/d3.js")
  script(src="/js/underscore/underscore-umd-min.js")
  script(src="/js/phylotree/phylotree.js")
  script(src="/js/local/phylotree-utils.js")
  script.
    newick = "#{sampletree}";
    tree = new phylotree.phylotree(newick);
    rendered_tree = tree.render({
      container: "#phylotree"
    });
    $(tree.display.container).empty();
    $(tree.display.container).html(tree.display.show());
